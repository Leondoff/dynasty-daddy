<div class="margin-top-10 large-bold-header-text center-text">Team Power Rankings</div>
<div class="center-text margin-top-10">
  Team power rankings are determined by <a class="info__alert" href="https://keeptradecut.com/" target="_blank">KeepTradeCut.com</a> value calculations taken from over <span class="info__alert">2.5 million</span> data points.
</div>

<div  *ngIf="sleeperService.leagueLoaded && powerRankingService.powerRankings.length > 0" class="power-ranking-container">
  <div>
    <app-power-rankings-chart [powerRankings]="powerRankingService.powerRankings"></app-power-rankings-chart>
  </div>
  <div>
    <app-power-rankings-table [powerRankings]="powerRankingService.powerRankings" [isSuperFlex]="sleeperService.selectedLeague.isSuperflex"></app-power-rankings-table>
  </div>
</div>

<div class="center-text margin-top-50" *ngIf="!sleeperService.leagueLoaded">
  <div class="warning__alert">Cannot generate Power Rankings. Please select a league.</div>
  <br>
  <button *ngIf="!sleeperService.sleeperUser" mat-raised-button color="warn" routerLink="./home">Choose League</button>
  <mat-form-field appearance="standard" color="accent" style="font-size: 14px;" *ngIf="sleeperService.sleeperUser?.leagues.length > 0">
    <mat-label>Select a league</mat-label>
    <mat-select [(ngModel)]="leagueSwitchService.selectedLeague" (selectionChange)="leagueSwitchService.loadLeague($event.value)">
      <mat-option *ngFor="let league of sleeperService.sleeperUser?.leagues"
                  [value]="league">{{league.name}}</mat-option>
    </mat-select>
  </mat-form-field>
</div>

<div class="center-text margin-top-50" *ngIf="sleeperService.leagueLoaded && powerRankingService.powerRankings.length === 0">
  <div class="warning__alert">Error creating power rankings. Please select a different league.</div>
  <br>
  <button *ngIf="!sleeperService.sleeperUser" mat-raised-button color="warn" routerLink="./home">Choose League</button>
  <mat-form-field appearance="standard" color="accent" style="font-size: 14px;" *ngIf="sleeperService.sleeperUser?.leagues.length > 0">
    <mat-label>Select a league</mat-label>
    <mat-select [(ngModel)]="leagueSwitchService.selectedLeague" (selectionChange)="leagueSwitchService.loadLeague($event.value)">
      <mat-option *ngFor="let league of sleeperService.sleeperUser?.leagues"
                  [value]="league">{{league.name}}</mat-option>
    </mat-select>
  </mat-form-field>
</div>
