<h1 class="margin-top-10 large-bold-header-text center-text">NFL Immaculate Gridiron</h1>
<div class="center-text margin-top-10">
    {{pageDescription}}
  </div>

<div *ngIf="gridGameService.status === 1"class="margin-top-25">
    <table>
        <tbody>
            <ng-container *ngFor="let row of gridGameService.gridResults; let i = index">
                <tr>
                    <td *ngFor="let col of row; let j = index" (click)="j !== 0 && i !== 0 && !gridGameService.gridResults[j][i] && gridGameService.guessesLeft > 0 ? openPlayerSearch(j-1, i-1) : ''" [ngStyle]="gridGameService.gridResults[j][i] ? {'background-color': '#008f51'} : {}"
                        [ngClass]="{'top-left-cell': i === 0 || j === 0, 'middle-cell': i > 0 && j > 0}">
                        <div *ngIf="i === 0 && j !== 0">
                            <img [src]="getTeamImg(gridGameService.gridDict['xAxis'][j-1])" class="team-grid-img" *ngIf="gridGameService.gridDict['xAxis'][j-1]?.type == 'team'">
                            <div *ngIf="gridGameService.gridDict['xAxis'][j-1]?.type == 'award'">
                                <div class="light_bg_color" *ngIf="!configService.isMobile">Won Award</div>
                                <div [ngClass]="{'jersey-num-mobile': configService.isMobile, 'jersey-num': !configService.isMobile}" style="text-align: center;">{{getAwardDisplay(gridGameService.gridDict['xAxis'][j-1]?.value)}}</div>
                                <div class="light_bg_color">Since 1999</div>
                            </div>
                            <div *ngIf="gridGameService.gridDict['xAxis'][j-1]?.type == 'stat'">
                                <div [ngClass]="{'jersey-num-mobile': configService.isMobile, 'jersey-num': !configService.isMobile}">{{getStatThresholdDisplay(gridGameService.gridDict['xAxis'][j-1]?.value)}}</div>
                                <div class="light_bg_color">{{getStatCategory(gridGameService.gridDict['xAxis'][j-1]?.value)}}</div>
                                <div class="light_bg_color">{{!configService.isMobile ? 'in a ' : ''}}season</div>
                            </div>
                        </div>
                        <div *ngIf="j === 0 && i !== 0">
                            <img [src]="getTeamImg(gridGameService.gridDict['yAxis'][i-1])" class="team-grid-img" *ngIf="gridGameService.gridDict['yAxis'][i-1]?.type != 'jersey_number'">
                            <div *ngIf="gridGameService.gridDict['yAxis'][i-1]?.type == 'jersey_number'">
                                <div class="light_bg_color">{{configService.isMobile ? 'Jersey' : 'Jersey Number'}}</div>
                                <div [ngClass]="{'jersey-num-mobile': configService.isMobile, 'jersey-num': !configService.isMobile}">{{gridGameService.gridDict['yAxis'][i-1]?.value}}</div>
                                <div class="light_bg_color">Since 1999</div>
                            </div>
                        </div>
                        <div *ngIf="j !== 0 && i !== 0 && gridGameService.gridResults[j][i]" style="text-align-last: center;">
                            <img [src]="gridGameService.gridResults[j][i].img" class="player-grid-img">
                            <div [ngClass]="{'player-name-text-mobile': configService.isMobile, 'player-name-text': !configService.isMobile}" class="center-text">{{gridGameService.gridResults[j][i]?.name}}</div>
                        </div>
                    </td>
                </tr>
            </ng-container>
        </tbody>
    </table>

    <div class="margin-top-25 center-text">
        <div class="light_bg_color">Guesses Left:</div>
        <div class="large-bold-header-text">{{gridGameService.guessesLeft}}</div>
        <div class="margin-top-10">
            <button mat-button (click)="openResults()" *ngIf="gridGameService.guessesLeft === 0">View Results</button>
            <button mat-button (click)="openTwitter()">Twitter</button>
        </div>
    </div>

    <div class="margin-top-50 center-text">
        <div class="large-bold-header-text center-text margin-bot-20">
          Additional Rules
        </div>
        <div style="max-width: 800px; margin: 0 auto; margin-bottom: 15px">
            The player must have suited up in the regular season for the team to count. Players cut in the offseason/practice squad don't count.
        </div>
        <div style="max-width: 800px; margin: 0 auto; margin-bottom: 15px">
            You cannot use a player more than once. Once a player is locked in, they will be removed from the search results.
        </div>
        <div style="max-width: 800px; margin: 0 auto; margin-bottom: 15px">
            For NFL teams, the player must have suited up one week for the team in order for it to count.
        </div>
        <div style="max-width: 800px; margin: 0 auto; margin-bottom: 15px">
            For college teams, it is the college the player was drafted from. If they transferred from one school to another it would be the school they transferred to.
        </div>
        <div style="max-width: 800px; margin: 0 auto; margin-bottom: 15px">
            For jersey numbers, any jersey number they wore on any team works. It doesn't have to be the jersey number they use on the grid team.
        </div>
        <div style="max-width: 800px; margin: 0 auto; margin-bottom: 15px">
            For stats & awards, each criteria must be hit in a single season and since 1999.
        </div>
      </div>
</div>

<div class="center-spinner margin-top-120" *ngIf="gridGameService.status === 0">
    <mat-spinner></mat-spinner>
</div>